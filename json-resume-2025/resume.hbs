<html lang="{{lang}}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{resume.basics.name}} - Resume</title>

    <!-- Â≠óÈ´îÂíåÂøÖË¶ÅÁöÑ CDN -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600&family=Noto+Sans+TC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <style>
      {{{css}}}

      /* ÂàóÂç∞ÂÑ™ÂåñÊ®£Âºè */ @media print { .no-print { display: none; } body {
      font-size: 12pt; } a { text-decoration: none; color: #000; } } /*
      ÈüøÊáâÂºèË®≠Ë®à */ @media (max-width: 768px) { .container { padding: 10px; } }
    </style>
  </head>
  <body>
    <!-- Ë™ûË®ÄÂàáÊèõÂô® -->
    <div class="language-switcher no-print">
      <button onclick="switchLanguage('en')">English</button>
      <button onclick="switchLanguage('zh')">‰∏≠Êñá</button>
    </div>

    <div class="container">
      <!-- ÂÄã‰∫∫Ë≥áÊñôÂçÄÂ°ä -->
      <header class="profile-header">
        <div class="profile-image">
          <img src="./public/myself.JPG" alt="Pei-Chen Lee" style="max-width: 100%; height: auto;" />
        </div>
        <div class="profile-info">
          <h1>{{resume.basics.name}}</h1>
          <h2>{{resume.basics.label}}</h2>
          <p>{{resume.basics.summary}}</p>
          <div class="contact-links">
            {{#each resume.basics.profiles}}
              <a href="{{this.url}}" target="_blank">
                <i class="fab fa-{{toLowerCase this.network}}"></i>
                {{this.network}}
              </a>
            {{/each}}
          </div>
        </div>
      </header>

      <!-- Mermaid ÊôÇÈñìËª∏ -->
      <section class="mermaid-section">
        <h3>üìå Career Timeline</h3>
        <div class="mermaid">
          gantt
          title Career Timeline
          dateFormat YYYY-MM-DD
          section Experience
          Twister5 :active, 2024-09-01, 2024-12-31
          Somaliland ICDF :done, 2024-07-01, 2024-09-01
          Bityacht.io :done, 2023-10-01, 2024-05-31
        </div>
      </section>

      <!-- ÊäÄËÉΩÂúñ -->
<!-- üìå Skill Breakdown Table -->
<!-- üìå Skill Breakdown Table with Graph Bars -->
<section class="skills-table-section">
  <h3>üìä Skill Breakdown & Justification</h3>
  <table>
    <thead>
      <tr>
        <th>Category</th>
        <th>Score (0-10)</th>
        <th>Reason</th>
      </tr>
    </thead>
    <tbody>
      {{#each resume.skillsBreakdown}}
      <tr>
        <td>{{this.category}}</td>
        <td>
          <div class="progress-bar">
            <div class="progress-fill" style="width: calc({{this.score}} * 100%)">
              {{this.score}}
            </div>
          </div>
        </td>
        <td>{{this.reason}}</td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</section>



      <!-- üåü Cyberpunk Skills Tree -->
      <section class="mermaid-section">
        <h3>üåå Skills Hierarchy </h3>
        <div class="mermaid">
          graph TD; A[üî• Cybersecurity üî•] -->|Cloudflare| B[WAF & API Shield
          üõ°Ô∏è]; A -->|SIEM| C[Axiom & Log Analysis üìú]; A -->|DevOps| D[CI/CD &
          Terraform üöÄ]; A -->|Threat Hunting| E[DDoS & API Security üõ†Ô∏è];
        </div>
      </section>

      <!-- ÊäÄËÉΩ -->
      <section class="skills-section">
        <h3>Technical Proficiency</h3>
        {{#each resume.skills}}
          <h4>{{this.name}}</h4>
          <ul>
            {{#each this.keywords}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        {{/each}}
      </section>

      <!-- Â∑•‰ΩúÁ∂ìÈ©ó -->
      <section class="timeline">
        <h3>Career Journey</h3>
        {{#each resume.work}}
          <div class="timeline-item">
            <div class="timeline-content">
              <h3>{{this.name}}</h3>
              <p class="timeline-date">{{formatDate this.startDate}}
                -
                {{formatDate this.endDate}}</p>
              <p>{{this.position}}</p>
              <div class="highlights">
                {{#each this.highlights}}
                  <p>
                    <i class="fas fa-check"></i>
                    {{this}}
                  </p>
                {{/each}}
              </div>
            </div>
          </div>
        {{/each}}
      </section>

      

    <!-- JavaScript -->
    <script>
      mermaid.initialize({ startOnLoad: true, theme: 'default' });
      document.addEventListener("DOMContentLoaded", function () {
    const ctx = document.getElementById("skillsChart").getContext("2d");

    // Skill labels and scores
    const labels = ["Security", "DevOps", "Cloud", "Software Development", "Research"];
    const data = [9, 8, 8, 7, 6];

    // Reasons for each score
    const explanations = {
      "Security": "Extensive hands-on experience in DDoS mitigation, API security, IAM security, Cloudflare WAF, Terraform security policies, SIEM log analysis (Axiom, New Relic, Grafana), plus security automation with GitHub Actions and CASB.",
      "DevOps": "Strong in CI/CD automation (GitHub Actions, Terraform), n8n workflow automation, cloud networking, and infrastructure as code (IaC), but limited full production Kubernetes experience.",
      "Cloud": "Experience in GCP, AWS, OCI, Azure, Cloudflare (Zero Trust, API Shield, DNS Management), including load balancing, identity security (IAM), and automation (Pulumi/Terraform).",
      "Software Development": "Skilled in JavaScript, TypeScript, Go, Python, Terraform, with experience in backend API security and frontend work in Vue3, React, and Nuxt.js, but less focus on software architecture or large-scale application development.",
      "Research": "Experience in Mermaid MD for documentation, quantum computing (IBM Quantum, Classiq), and cryptographic security research, but not primarily focused on deep academic research."
    };

    new Chart(ctx, {
      type: "bar",
      data: {
        labels: labels,
        datasets: [
          {
            label: "Skill Level (0-10)",
            data: data,
            backgroundColor: ["#ff5733", "#33ff57", "#3377ff", "#ff33aa", "#ffcc33"],
            borderWidth: 1,
          },
        ],
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 10,
            ticks: {
              stepSize: 1
            }
          },
        },
        plugins: {
          tooltip: {
            callbacks: {
              label: function (tooltipItem) {
                return explanations[tooltipItem.label] || "";
              }
            }
          }
        }
      },
    });
  });
    </script>
  </body>
</html>